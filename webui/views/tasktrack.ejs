<!DOCTYPE html>
<div class="page-header">
	<h1><%= title %></h1>
</div>

<div id="main" style="height:600px;border:1px solid #ccc;padding:10px;"></div>
<script src="/javascripts/echarts-plain.js"></script>
<script type="text/javascript">
	var myChart = echarts.init(document.getElementById('main'));
	myChart.setOption({
		tooltip : {
			trigger: 'axis'
		},
		legend : {
			data: ['协程数', '子任务数', '切换数']
		},
		toolbox : {
			show: true,
			feature : {
				mark : {show: true},
				dataView : {show: true, readOnly: false},
				magicType : {show: true, type: ['line', 'bar']},
				restore : {show: true},
				saveAsImage : {show: true}
			}
		},
		calculable : true,
		xAxis : [
			{
				type : 'category',
				data : [<%= exectime %>]
			}
		],
		yAxis : [
			{
				type : 'value',
				name : '协程数',
				splitArea : {show: true}
			},
			{
				type : 'value',
				name : '子任务相关',
				splitArea : {show: true}
			}
		],
		series : [
			{
				name : '协程数',
				type : 'bar',
				data : [<%= workers %>]
			},
			{
				name : '子任务数',
				type : 'line',
				yAxisIndex : 1,
				data : [<%= tasks %>]
			},
			{
				name : '切换数',
				type : 'line',
				yAxisIndex : 1,
				data : [<%= switches %>]
			}
		]
	});
</script>
